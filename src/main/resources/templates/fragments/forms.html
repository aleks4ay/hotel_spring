<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org" lang="${#locale.language}">
<head>
    <meta charset="UTF-8">
    <title>Form items</title>
</head>
<body>

<form  th:fragment="leftForm" class="sticky rounded-lg shadow p-4 mb-4"
      style="height:700px; height: 350px; background-color: rgba(96, 162, 218, 0.2);">
    <h4 th:if="${#httpServletRequest.remoteUser != Null}"
        th:text="${#hello1+', '+#httpServletRequest.remoteUser.name+' ('+#httpServletRequest.remoteUser.role.title+')'}" ></h4>
    <h4 th:if="${#httpServletRequest.remoteUser == null}" th:text="#{notEntered}" />
</form>


<form th:fragment="dateField" method="post" action="/user?action=room" >
    <div class="mb-3">
        <label for="dateStart" class="form-label"> <fmt:message key="arrival"/>: </label>
        <input type="date" class="form-control" id="dateStart"  name="arrival" value="${arrival}" />
    </div>
    <div class="mb-3">
        <label for="dateEnd" class="form-label"> <fmt:message key="departure"/>: </label>
        <input type="date" class="form-control" id="dateEnd" name="departure" value="${departure}" />
    </div>
    <div style="color: rgba(19, 23, 186, 0.9); font-size: 1.2em">
        <button type="submit" class="btn btn-outline-success" >  <fmt:message key="dateEnter"/>  </button>
    </div>
</form>

<form th:fragment="filters" class="sticky rounded-lg shadow p-4 mb-4" method="post" action="/user?action=filter"
       style="background-color: rgba(96, 162, 218, 0.2);">

    <h3><fmt:message key="filters"/></h3>
    <div class="mb-3">
        <label for="field1" class="form-label"> <fmt:message key="guests"/> </label>

        <select id="field1" name="filter_guests" class="col-md-12 form-control">
            <option value="1" ${guests == 1 ? 'selected' : ''}> 1 </option>
            <option value="2" ${guests == 2 ? 'selected' : ''}> 2 </option>
            <option value="3" ${guests == 3 ? 'selected' : ''}> 3 </option>
            <option value="4" ${guests == 4 ? 'selected' : ''}> 4 </option>
        </select>
    </div>
    <div class="mb-3">
        <label for="field2" class="form-label"> <fmt:message key="category"/> </label>
        <select id="field2" name="filter_category" class="col-md-12 form-control">
            <c:forEach items="${categories}" var="item">
                <option value="${item}" ${category == item ? 'selected' : ''}> ${item} </option>
            </c:forEach>
        </select>
    </div>

    <div style="color: rgba(19, 23, 186, 0.9); font-size: 1.2em">
        <c:if test="${not empty category}" > <p> <fmt:message key="category"/>: ${category} </p> </c:if>
        <c:if test="${not empty guests}" > <p> <fmt:message key="guests"/>: ${guests} </p> </c:if>

        <button type="submit" class="btn btn-outline-success" name="filter" value="applyFilter">
            <fmt:message key="filterEnter"/>
        </button>
        <hr/>
        <button type="submit" class="btn btn-outline-success" name="filter" value="filterCansel">
            <fmt:message key="filterCansel"/>
        </button>
    </div>
</form>



<form th:fragment="newProposal"  class="sticky rounded-lg shadow p-4 mb-4" method="post" action="/user?action=newProposal"
       style="background-color: rgba(96, 162, 218, 0.2);">
    <h3><fmt:message key="cart_1"/></h3>
    <div class="mb-3">
        <label for="date1" class="form-label"> <fmt:message key="arrival"/>: </label>
        <input type="date" class="form-control" id="date1"  name="arrival" />
        <%--<input type="datetime" class="form-control" id="date1" name="arrival" />--%>
    </div>
    <div class="mb-3">
        <label for="date2" class="form-label"> <fmt:message key="departure"/>: </label>
        <input type="date" class="form-control" id="date2" name="departure" />
    </div>
    <div class="mb-3">
        <label for="field1" class="form-label"> <fmt:message key="guests"/> </label>
        <select id="field1" name="field1" class="col-md-12 form-control">
            <option value="1"> 1 </option>
            <option value="2"> 2 </option>
            <option value="3"> 3 </option>
            <option value="4"> 4 </option>
        </select>
    </div>
    <div class="mb-3">
        <label for="field2" class="form-label"> <fmt:message key="category"/> </label>
        <select id="field2" name="field2" class="col-md-12 form-control">
            <c:forEach items="${categories}" var="category">
                <option value="${category}"> ${category} </option>
            </c:forEach>
        </select>
    </div>
    <div >
        <c:if test="${not empty sessionScope.get('user')}">
            <button type="submit" class="btn btn-outline-success" >  <fmt:message key="cart_2"/>  </button>
        </c:if>
        <c:if test="${empty sessionScope.get('user')}">
            <button type="submit" class="btn btn-outline-success" disabled >  <fmt:message key="cart_2"/>  </button>
        </c:if>
    </div>
</form>

</body>
</html>